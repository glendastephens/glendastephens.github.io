(self["webpackChunkpoker_dashboard"]=self["webpackChunkpoker_dashboard"]||[]).push([[995],{8403:(e,t,i)=>{"use strict";i.d(t,{Z:()=>W});var a=i(3673);const l=(0,a.Uk)(" Add New High Hand ");function n(e,t,i,n,s,r){const o=(0,a.up)("q-toolbar-title"),d=(0,a.up)("q-btn"),m=(0,a.up)("q-toolbar"),u=(0,a.up)("q-select"),c=(0,a.up)("q-input"),h=(0,a.up)("q-form"),p=(0,a.up)("q-card-section"),f=(0,a.up)("q-card"),g=(0,a.up)("q-dialog"),w=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(g,{ref:"dialogRef",onHide:n.onDialogHide},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"q-dialog-plugin"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[l])),_:1}),(0,a.wy)((0,a.Wm)(d,{flat:"",round:"",icon:"close"},null,512),[[w]])])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"q-gutter-md",onSubmit:n.submitHighHand},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:n.handSelectionModel,"onUpdate:modelValue":t[0]||(t[0]=e=>n.handSelectionModel=e),filled:"",options:n.indexedPokerHands,"option-label":"hand",label:"Hand"},null,8,["modelValue","options"]),(0,a.Wm)(c,{modelValue:n.highHandQualifier,"onUpdate:modelValue":t[1]||(t[1]=e=>n.highHandQualifier=e),filled:"",label:"Cards"},null,8,["modelValue"]),(0,a.Wm)(u,{modelValue:n.highHandPlayers,"onUpdate:modelValue":t[2]||(t[2]=e=>n.highHandPlayers=e),filled:"",label:"Player(s)",options:n.activePlayers,"option-label":"name",multiple:"",onFilter:n.activePlayerFilter},null,8,["modelValue","options","onFilter"]),(0,a.wy)((0,a.Wm)(d,{type:"submit",flat:"",label:"OK",color:"primary"},null,512),[[w]])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["onHide"])}var s=i(515),r=i.n(s),o=(i(71),i(1959)),d=i(1701),m=i(268),u=i(4584);const c={props:{handSelection:{type:Object,default:()=>({hand:"",index:-1})}},emits:[...d.Z.emits],setup(e){const{dialogRef:t,onDialogHide:i,onDialogOK:a,onDialogCancel:l}=(0,d.Z)(),{getPlayers:n}=u["default"].getters,{setHighHand:s}=u["default"].actions,c=(0,o.iH)(r()({},e.handSelection)),h=(0,o.iH)(""),p=(0,o.iH)([]),{pokerHandRankings:f}=m.Z,g=f.map(((e,t)=>({hand:e,index:t}))),w=function(){return n().map(((e,t)=>r()(r()({},e),{},{index:t}))).filter((e=>e.timeOut<0))},x=(0,o.iH)(w()),_=function(e,t,i){t((()=>{x.value=w()}))},v=function(){s(c.value.index,h.value,p.value.map((e=>e.name))),c.value={hand:"",index:-1},h.value="",p.value=[]};return{dialogRef:t,onDialogHide:i,onOKClick(){a()},onCancelClick:l,handSelectionModel:c,highHandQualifier:h,highHandPlayers:p,indexedPokerHands:g,activePlayers:x,activePlayerFilter:_,submitHighHand:v}}};var h=i(6778),p=i(151),f=i(9570),g=i(3747),w=i(8240),x=i(5589),_=i(5269),v=i(9396),b=i(4842),y=i(677),H=i(7518),k=i.n(H);c.render=n;const W=c;k()(c,"components",{QDialog:h.Z,QCard:p.Z,QToolbar:f.Z,QToolbarTitle:g.Z,QBtn:w.Z,QCardSection:x.Z,QForm:_.Z,QSelect:v.Z,QInput:b.Z}),k()(c,"directives",{ClosePopup:y.Z})},1995:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>I});var a=i(3673),l=i(2323);const n={class:"row justify-center items-start items-stretch"},s={style:{display:"grid","min-width":"200px"}},r=(0,a.Uk)(" Big Blind "),o=(0,a.Uk)(" Small Blind "),d=(0,a.Uk)(" High Hand ");function m(e,t,i,m,u,c){const h=(0,a.up)("q-btn"),p=(0,a.up)("q-card-actions"),f=(0,a.up)("base-timer"),g=(0,a.up)("q-card-section"),w=(0,a.up)("q-card"),x=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(x,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a.Wm)(w,{class:"q-ma-xs col-4",style:{"min-width":"330px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"flex justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{"time-limit-seconds":m.timerDuration,onTimesUp:t[0]||(t[0]=e=>m.handleNextRound(e))},{default:(0,a.w5)((({isRunning:e,resume:t,pause:i,forceNextRound:l})=>[(0,a.Wm)(p,{align:"around"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"q-mb-sm",color:"primary",round:"",icon:e?"pause":"play_arrow",size:"lg",onClick:a=>e?i():t()},null,8,["icon","onClick"]),(0,a.Wm)(h,{class:"q-mb-sm",color:"primary",round:"",icon:"refresh",size:"lg",onClick:e=>l()},null,8,["onClick"])])),_:2},1024)])),_:1},8,["time-limit-seconds"])])),_:1})])),_:1}),(0,a._)("div",s,[(0,a.Wm)(w,{class:"q-ma-xs self-stretch"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"text-h5 text-center text-white bg-primary"},{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(g,{class:"text-h1 text-center text-weight-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(m.bigBlind),1)])),_:1})])),_:1}),(0,a.Wm)(w,{class:"q-ma-xs self-stretch"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"text-h5 text-center text-white bg-primary"},{default:(0,a.w5)((()=>[o])),_:1}),(0,a.Wm)(g,{class:"text-h1 text-center text-weight-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(m.smallBlind),1)])),_:1})])),_:1})]),(0,a.Wm)(w,{class:"q-ma-xs col-4 cursor-pointer",style:{"min-width":"280px"},onClick:m.showHighHandModal},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"text-h5 text-center text-white bg-primary"},{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(g,{class:"text-h3 text-center text-weight-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(m.highHand.title),1)])),_:1}),(0,a.Wm)(g,{class:"text-h4 text-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(m.highHand.qualifier),1)])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.highHand.players,((e,t)=>((0,a.wg)(),(0,a.j4)(g,{key:t,class:"text-center text-h4 text-accent"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e),1)])),_:2},1024)))),128))])),_:1},8,["onClick"])])])),_:1})}var u=i(8825),c=i(1959);(0,a.dD)("data-v-24705e4e");const h={class:"base-timer"},p={class:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},f={class:"base-timer__circle"},g=(0,a._)("circle",{class:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"},null,-1),w=["stroke-dasharray"],x={class:"base-timer__label"};function _(e,t,i,n,s,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",h,[((0,a.wg)(),(0,a.iD)("svg",p,[(0,a._)("g",f,[g,(0,a._)("path",{"stroke-dasharray":r.circleDasharray,class:(0,l.C_)(["base-timer__path-remaining",r.remainingPathColor]),d:"\n            M 50, 50\n            m -45, 0\n            a 45,45 0 1,0 90,0\n            a 45,45 0 1,0 -90,0\n          "},null,10,w)])])),(0,a._)("span",x,(0,l.zw)(r.formattedTimeLeft),1)]),(0,a.WI)(e.$slots,"default",(0,l.vs)((0,a.F4)({isRunning:r.isRunning,resume:r.resume,pause:r.pause,forceNextRound:r.forceNextRound})),void 0,!0)])}(0,a.Cn)();const v=new Audio(i(5152)),b=283,y=300,H=60,k={info:{color:"green"},warning:{color:"orange",threshold:y},alert:{color:"red",threshold:H}},W={props:{timeLimitSeconds:{type:Number,default:30}},emits:["timesUp"],data(){return{timePassed:0,timerInterval:null,timeLimit:0}},computed:{circleDasharray(){return`${(this.timeFraction*b).toFixed(0)} 283`},formattedTimeLeft(){const e=this.timeLeft,t=Math.floor(e/60);let i=e%60;return i<10&&(i=`0${i}`),`${t}:${i}`},timeLeft(){return this.timeLimit-this.timePassed},timeFraction(){const e=this.timeLeft/this.timeLimit;return e-1/this.timeLimit*(1-e)},remainingPathColor(){const{alert:e,warning:t,info:i}=k;return this.timeLeft<=e.threshold?(this.timeLeft===e.threshold&&this.playWarningSound(),e.color):this.timeLeft<=t.threshold?(this.timeLeft===t.threshold&&this.playWarningSound(),t.color):i.color},isRunning(){return null!==this.timerInterval}},watch:{timeLeft(e){0===e&&this.onTimesUp()}},mounted(){this.startTimer()},methods:{playWarningSound(){v.currentTime=0,v.play(),setTimeout((function(){v.pause()}),2e3)},playTimerDoneSound(){v.currentTime=6,v.play()},onTimesUp(){clearInterval(this.timerInterval),this.timerInterval=null,this.playTimerDoneSound();const e=this.startTimer;this.$emit("timesUp",{startTimer:e})},resume(){this.timerInterval=setInterval((()=>this.timePassed+=1),1e3)},pause(){clearInterval(this.timerInterval),this.timerInterval=null},forceNextRound(){this.onTimesUp()},startTimer(){this.timePassed=0,this.timeLimit=this.timeLimitSeconds,this.timerInterval=setInterval((()=>this.timePassed+=1),1e3)}}};W.render=_,W.__scopeId="data-v-24705e4e";const q=W;var C=i(4584),Z=i(8403);const P={components:{BaseTimer:q},setup(){const e=(0,u.Z)(),{highHand:t,bigBlind:i,smallBlind:a,timerDuration:l}=(0,c.BK)(C["default"].state),{calculateNewBlinds:n}=C["default"].actions,s=function(e){n(),e.startTimer()},r=function(){e.dialog({component:Z.Z})};return{highHand:t,bigBlind:i,smallBlind:a,timerDuration:l,handleNextRound:s,showHighHandModal:r}}};var T=i(4379),Q=i(151),S=i(5589),U=i(9367),D=i(8240),L=i(7518),B=i.n(L);P.render=m;const I=P;B()(P,"components",{QPage:T.Z,QCard:Q.Z,QCardSection:S.Z,QCardActions:U.Z,QBtn:D.Z})},5152:(e,t,i)=>{e.exports=i.p+"media/alarm_sound.e0ecc01a.wav"}}]);